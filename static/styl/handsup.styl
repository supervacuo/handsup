column-width = 70px
gutter-width = 15px
columns = 12

@import grid;
@import 'nib/reset';

global-reset();

// PALETTE

$green-0 = #2f7c0b
$green-1 = #61a52b
$green-2 = #6eed89

$pink-0 = #fc47e6
$pink-1 = #d477f7

$red-0 = #ed1b24
$red-1 = #750d24
$red-2 = #FF5C5C

$yellow-0 = #EDD62B

// SIZES

// px
$regular = 16
$row_height = 20

// ratios
$x-large = 3.75
$larger = 1.95
$large = 1.15
$small = 0.75

$row_ratio = ($row_height / $regular)


// TYPOGRAPHY

@font-face {
  font-family: 'Patrick Hand';
  font-style: normal;
  font-weight: 400;
  src: local('Patrick Hand'), local('PatrickHand-Regular'), url(/static/fnt/PatrickHand-Regular.ttf) format('truetype');
}

html
	font-family: 'Lucida Grande', Verdana, Geneva, Arial, sans-serif
	font-size: ($regular)px

h1
	font-size: ($x-large)em
	line-height: (3 * $row_ratio / $x-large)
	margin: unit($row_ratio / $x-large, 'em') 0
	text-transform: uppercase

h2
	font-size: ($larger)em
	line-height: (2 * $row_ratio / $larger)
	margin: unit($row_ratio / $larger, 'em') 0
	font-family: 'Patrick Hand', cursive

h3
	font-size: ($large)em
	line-height: ($row_ratio / $large)
	margin: unit($row_ratio / $larger, 'em') 0

p, li
	font-size: ($regular)px
	line-height: $row_ratio
	margin: unit($row_ratio, 'em') 0


// GENERAL STYLES

a {
	text-decoration: none;
	font-weight: bold
	color: $green-0
	&:visited {
		color: $green-0 
	}
}

strong {
	font-weight: bold;
}

button() {
	border: 2px solid $red-1;
	border-radius: 5px;
	background-color: $red-0;
	color: white;
	font-weight: bold;
	padding: 0.15em;
	font-size: unit($larger, 'rem');
	vertical-align: middle;
	&:visited {
		color: white
	}
}

note() {
	border: 1px solid black
	text-align: center
	transform-origin: left center
	padding: unit($row_ratio / $larger * 3, 'em')
	margin: (@padding * 2) auto

	&:nth-child(odd) {
		transform: rotate(2deg);
		margin-top: -32px
	}
	&:nth-child(even) {
		transform: rotate(-2deg)
	}
	&.r {
		transform: rotate(2deg)
	}
	&.info {
		transform: none
	}
	&.heading {
		padding: 0
		margin-top: unit($row_ratio / $larger * 3, 'em')
	}
	&.error,
	&.important {
		border: 2px solid $red-2
		padding: 0 1em
		font-weight: bold
	}
}

form {
	column(6)
	offset(3)
	overflow: visible
	position: relative
	> div {
		width: 80%
		note()
	}
	ul.errorlist {
		position: absolute
		right: -202px
		width: 200px
		border: 1px solid black
		background: $red-1
		color: white;
	}
	ul.info {
		text-align: left
		padding-left: 5em
		list-style-type: disc
		background: transparent url(/static/img/hand_orange.png) no-repeat 80% 50%
		li {
		}
	}
	p {
		display: table
		width: 100%
	}
	label {
		display: table-row
		font-size: unit($larger, 'em')
		font-family: 'Patrick Hand', cursive
		line-height: (2 * $row_ratio / $large)
		margin: unit($row_ratio / $large, 'em') 0
	}
	input, textarea {
		display: table-row
		width: 90%
		border-width: 0
		border-bottom: 2px dotted black
		font-size: unit($large, 'rem')
		line-height: (2 * $row_ratio / $large)
		margin: unit($row_ratio / $large / 2, 'rem') 0
	}
	.extra {
		text-align: right
		input, textarea {
			font-size: unit($small, 'rem')
			line-height: ($row_ratio / $small)
			margin: unit($row_ratio / $small / 2, 'rem') 0
			border-bottom: 2px dotted #666
			width: 60%
			color: #666
		}
		&.error {
			input, textarea {
					color: #a66
			}
		}
	}
}

button, .button {
	button()
}

input[type=checkbox] {
	display:none;

	& + label {
		padding-left:40px;
		display:inline-block;
		line-height:30px;
		background-repeat:no-repeat;
		background-position: 0 0;
		vertical-align:middle;
		cursor:pointer;
		background-image: url(/static/img/checkbox.png);
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
		margin: unit($row_ratio / $large / 2, 'em') 0
		transition: background-position 0.2s ease
	}

	&:checked + label {
		background-position: 0 -30px;
	}
}

// PAGE STRUCTURE

body {
	position: relative;
	padding-bottom: 60px
}

#container {
	width: total-width
	margin: unit($row_ratio * 5, 'em') auto 0 auto
}

#page_header {
	h1 {
		text-indent: -50000px;
		background: transparent url(/static/img/logo.png) no-repeat;
		height: 166px;
		margin: 0;
	}
	h2 {
		margin: 0;
		text-align: center;
		background: black
		color: white
		font-size: ($x-large)em
		line-height: ($row_ratio / $x-large * 5)
	}
}

.messages {
	note()
	width: 60%
	padding: 0
	background-color: $yellow-0
	margin-bottom: unit($row_ratio, 'em')
	li {
		list-style-type: none;
	}
}

#page_footer {
	position: fixed;
	background-color: white
	bottom: 0;
	right: 0;
	width: 100%;
	text-align: right;
	border-top: 2px dotted #222;

	ul {
		li {
			display: inline-block;
			margin: 0 1em;
			line-height: 2em * $row_ratio;
			a {
				color: #222;
				font-weight: bold;
			}
		}
	}
}

// FRONT PAGE

#cause_community {
	background: transparent url(/static/img/levy_baths.jpg) no-repeat;
	height: 720px;
	position: relative;

	span {
		background-color: rgba(128, 128, 128, 0.5);
		font-size: unit($x-large, 'rem');
		color: white;
		position: absolute;
		bottom: 1.5em;
		font-weight: bold;
		text-shadow: 0px 0px 10px #111;
		text-align: center;
		width: 100%;
		line-height: 1.3;
		padding-bottom: 0.25em;

		.btn {
			button()
		}
	}
}

// CAMPAIGN DETAIL PAGE

section#details {
	column(6)
	padding-top: 4em
	div {
		width: 80%
		note()
	}
}

#skills {
	note()
	width: 80% 
	ul {
		list-style-type: none;

		li {
			display: inline-block;
			width: auto;
			line-height: unit($row_ratio * $regular * 2, 'px')
			margin: unit($row_ratio * $regular, 'px')
			&:nth-child(3n) {
				color: $green-0
			}
			&:nth-child(3n+1) {
				color: $red-0
			}
			&:nth-child(3n+2) {
				color: $yellow-0
			}
			&.none {
				color: black
				line-height: $row_ratio
				text-align: left
				margin-left: 0
				margin-right: 0
			}
		}
	}
	h2 {
		margin: 0
		width: 100%
		text-align: left;
	}
}

section#heroes {
	column(6)

	li {
		width: 5em;
		height: 5em;
		border-radius: 2.5em;
		display: block;
		background-color: red;
		text-align: center;
		position: relative;
		float: left;
		margin-right: 1em;
		&.vacant {
			background-color: grey;
		}
		&.me {
			border: 4px solid black;
			box-sizing: border-box
		}
		span {
			position: absolute;
			bottom: -2em;
		}
		&:nth-child(3n+1) {
			margin-left: -1px	
		}
		&:nth-child(3n+2) {
			margin-left: 5px	
			position: relative;
			top: -5px
		}
		&:nth-child(3n) {
			margin-left: 3px	
			position: relative;
			top: 2px
		}
	}

	h2 {
		text-align: center;
		clear: both;
		margin-bottom: unit($row_ratio / $larger * 3, 'em')
		span {
			font-size: unit($larger, 'em')
			vertical-align: baseline;
			text-decoration: underline;
		}
	}

	> div {
		note()
		width: 80%;
		a.button {
			background-color: $green-0
			border-color: $green-1
			color: white
		}
	}
}

// PROMOTE CAMPAIGN PAGE

section#promote {
	column(6)
	offset(3)
	overflow: visible
	> div {
		note()
		width: 80%
		&.info {
			padding: 0
			width: 140%
			margin-left: -20%;
			h3 {
				font-family: 'Patrick Hand', cursive
				width: 100%
				text-align: left;
				text-indent: 2em
				margin: unit($row_ratio / $large, 'em') 0 0 0
			}
			code {
				font-size: unit($large, 'em')
				font-family: 'Consolas'
			}
		}
	}
}
